<html>
    <head>
        <script src="http://localhost:8080/socket.io/socket.io.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
        <script>
            try {
                //socket io client
                var socket = io.connect('http://localhost:8080/notification');

                socket.on("connect", function() {
                    console.log("connected");
                    // Let the server know who is connected...
                    socket.emit("user", { id: 101 });
                });

                socket.on('update', function (data) {
                    // Do something cool like update badges/status/etc...
                    console.log(data);
                    var msg = "";
                    
                    msg += data.user + ' @ ' + data.ts + ' : ' + data.message;
                    
                    addMessage(msg);
                });
            } catch (e) {
                console.log(e);
            }
       
            //adds message to messages div
            function addMessage(msg) {
                var str = '<div class="message">' + msg + '</div><hr>';
                console.log(str)
                $('#messages').append(str)
            }
        </script>
    </head>
    <body>
        Notifications
        <hr/>
        <div id="messages"></div>
    </body>
</html>